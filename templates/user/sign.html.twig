{% extends 'base.html.twig' %}

{% block title %}Signature
{% endblock %}

{% block stylesheets %}
	<style>
		button {
			padding: 15px 30px;
			background-color: orange;
			color: white;
			border: none;
			border-radius: 5px;
			cursor: pointer;
			transition: background-color 0.3s;
			margin-top: 30px;
			margin-bottom: 50px;
		}
		button:hover {
			background-color: green;
		}
	</style>
{% endblock %}

{% block body %}
	<button class="sign-button">Dire que je suis présent</button>

	<script>
		document.querySelector('.sign-button').addEventListener('click', function(){
			const xhr = new XMLHttpRequest();
			xhr.open('POST', '/update-sign');
			xhr.setRequestHeader('Content-Type', 'application/json');
			xhr.onload = function() {
				if (xhr.status === 200) {
					alert('Vous êtes bien présent !');
				} else {
					alert('Une erreur est survenue !');
				}
			};
			xhr.send(JSON.stringify({ id: {{ user.id }} }));
		});
	</script>
{% endblock %}
